## layout.jsì™€ page.jsì˜ ê´€ê³„
`layout.js`ì˜ `children` propì€ `page.js`ì˜ ë¦¬í„´ê°’ì´ë‹¤.

![layout_page](./public/img/layout_page.png)

```jsx
//layout.js
export default function RootLayout({ children }) {
  return (
    <html>
      <body>{children}</body>
    </html>
  )
}
```

<br/>

## ë¹Œë“œì™€ ë°°í¬
ë¹Œë“œëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìµœì í™”í•˜ê³  ì‹¤ì œ ì„œë²„ì—ì„œ í˜¸ìŠ¤íŒ…í•˜ê¸° ìœ„í•œ íš¨ìœ¨ì ì¸ ë°°í¬ ë²„ì „ì„ ìƒì„±í•˜ëŠ” í•„ìˆ˜ ë‹¨ê³„ì´ë‹¤.<br/>
(ìš©ëŸ‰ ìµœì†Œí™”, ë¶ˆí•„ìš”í•œ ë©”ì„¸ì§€ë¥¼ ì½˜ì†”ì— ì¶œë ¥í•˜ì§€ ì•ŠëŠ” ë“±)

### build
`.next` í´ë” í•˜ìœ„ì— ë°°í¬ ê°€ëŠ¥í•œ ë²„ì „ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìƒì„±í•œë‹¤
```bash
npm run build
```

### start
ìƒì„±ëœ ë°°í¬ ë²„ì „ì„ ë°”íƒ•ìœ¼ë¡œ ì„œë¹„ìŠ¤ë¥¼ ì‹œì‘í•œë‹¤
```bash
npm run start
```

<br/>

## metadata
`layout.js` í˜¹ì€ `page.js`ì—ì„œ `metadata`ë¥¼ `export`í•˜ë©´ htmlì˜ headì•ˆì— ë‚´ìš©ì„ ìƒì„±í•  ìˆ˜ ìˆë‹¤

```jsx
// app/layout.js
export const metadata = {
  title: 'WEB tutorial',
  description: 'Generated by egoing',
}
```
![metadata](./public//img/metadata.png)

<br/>

## Routing
ì‚¬ìš©ìê°€ ì ‘ì†í•œ URLì˜ pathì— ë”°ë¼ì„œ ì½˜í…ì¸ ë¥¼ ì‘ë‹µí•´ì£¼ëŠ” ì‘ì—…ì„ `ë¼ìš°íŒ…`ì´ë¼ê³  í•œë‹¤.<br/>
Next.jsëŠ” ê°„ë‹¨í•˜ê³  ì§ê´€ì ì¸ ë¼ìš°íŒ…ì„ ì œê³µí•˜ë©°, í”„ë¡œì íŠ¸ì˜ ë³µì¡ì„±ì„ íš¨ê³¼ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤€ë‹¤.

### 0. URL ìš©ì–´ ì •ë¦¬
`/dashboard/analytics/` ë¶€ë¶„ì„ `path`, `dashboard`ì™€ `analytics` ê°ê°ì„ `segment`ë¼ê³  í•œë‹¤

![url](./public/img/url.png)

<br/>

### 1. í˜ì´ì§€ ë§Œë“œëŠ” ë°©ë²•
`create/pages.js` íŒŒì¼ì„ ìƒì„±í•˜ë©´ `/create` í˜ì´ì§€ê°€ ì •ìƒ ì¶œë ¥ëœë‹¤
```jsx
// app/create/page.js
export default function Create(){
  return <>
    Create!!
  </>
}
```
#### ì•Œ ìˆ˜ ìˆëŠ” ê²ƒ
- `app` í•˜ìœ„ì˜ í´ë”ëŠ” ì„¸ê·¸ë¨¼íŠ¸ë¥¼ ì˜ë¯¸í•œë‹¤
- `app/create/page.js` íŒŒì¼ì˜ ë°˜í™˜ ê°’ì´ ìƒìœ„ ì»´í¬ë„ŒíŠ¸ì˜ `layout.js`ì˜ `children` propìœ¼ë¡œ ì „ë‹¬ëœë‹¤.

<br/>

### 2. Next.jsì˜ ë¼ìš°íŒ… ë¡œì§
Next.jsëŠ” ë ˆì´ì•„ì›ƒì˜ ì¤‘ì²©ì„ í—ˆìš©í•œë‹¤. ë•Œë¬¸ì— URL ê²½ë¡œì˜ ì„¸ê·¸ë¨¼íŠ¸ì— ë”°ë¼ ì½˜í…ì¸ ë¥¼ ì°¾ê³ , í•´ë‹¹ ì½˜í…ì¸ ê°€ ìœ„ì¹˜í•œ í´ë”ì˜ `layout.js`ë¥¼ ì‹œì‘ìœ¼ë¡œ ìƒìœ„ í´ë”ë¥¼ íƒìƒ‰í•˜ë©´ì„œ `layout.js`ë¡œ ê°ì‹¸ì¤€ë‹¤.

#### ì¤‘ì²©ëœ í•˜ìœ„ ë ˆì´ì•„ì›ƒ ë§Œë“¤ê¸°
`app/create/page.js`ë¥¼ ê°ì‹¸ëŠ” `app/create/layout.js` í•˜ìœ„ ë ˆì´ì•„ì›ƒ íŒŒì¼ì„ ìƒì„±í•œë‹¤.<br/>
ì´ì²˜ëŸ¼ í•˜ìœ„ ë ˆì´ì•„ì›ƒì´ ìˆë‹¤ë©´, `app/create/layout.js`ë¡œ `app/create/page.js`ë¥¼ í¬ì¥í•œ í›„ì— `app/layout.js`ë¡œ í¬ì¥í•œë‹¤.

```jsx
// props : app/create/page.js ë¦¬í„´ê°’
export default function Layout(props){
  return (
    <form>
      <h2>Create</h2>
      {props.children}
    </form>
  )
}
```

<br/>

### 3. ë™ì  ë¼ìš°íŒ…(dynamic routing)
`read/1`, `read/2` ì˜ 1,2ì™€ ê°™ì´ ê°€ë³€ì ìœ¼ë¡œ ë³€ê²½ë˜ëŠ” ê²½ë¡œë¥¼ ì²˜ë¦¬í•´ë³´ì.

### í˜ì´ì§€ ìƒì„±
`/app/read/[id]/page.js` ë‹¤ìŒê³¼ ê°™ì´ íŒŒì¼ì„ ìƒì„±í•˜ë©´ `/read/1` í˜ì´ì§€ê°€ ì •ìƒ ì¶œë ¥ëœë‹¤

### ë¼ìš°íŒ… ë¡œì§
`/read/1`ë¡œ ì ‘ì†í•˜ë©´ 1ì˜ ìë¦¬ì— í•´ë‹¹í•˜ëŠ” í´ë”ì¸ [id]ì˜ ì´ë¦„ì„ ê¸°ì¤€ìœ¼ë¡œ `props`ë¥¼ ë§Œë“¤ì–´ì„œ ì£¼ì…í•´ì¤€ë‹¤. ì´ ê°’ì„ ì‚¬ìš©í•´ì„œ ì—¬ëŸ¬ ì‘ì—…ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.
```jsx
export default function Read(props){
  return <>
    <h2>Read</h2>
    parameter : {props.params.id}
  </>
}
```
![routing](./public/img/routing.png)

<br/>

## SPA(Single Page Application)
í•˜ë‚˜ì˜ í˜ì´ì§€ì—ì„œ ëª¨ë“  ì‘ì—…ì„ ì²˜ë¦¬í•˜ëŠ” ì•±ì„ ì˜ë¯¸í•œë‹¤<br/> 
ì„œë²„ë¡œë¶€í„° ê°€ì ¸ì˜¬ ë°ì´í„°ê°€ ìˆë‹¤ë©´ ajaxì™€ ê°™ì€ ë°©ë²•ì„ í†µí•´ì„œ ë™ì ìœ¼ë¡œ ë¡œë”©í•œë‹¤

### Link
```jsx
<Link href='/'>Home</Link>
```
`Link`ëŠ” Next.jsì—ì„œ SPAë¥¼ ë§¤ìš° ì‰½ê²Œ êµ¬í˜„í•˜ë„ë¡ ë„ì™€ì£¼ëŠ” ë„êµ¬ì´ë‹¤

- ë§í¬ë¥¼ í´ë¦­í•˜ë©´ í˜ì´ì§€ ì „ì²´ ë¦¬ë¡œë”©ì´ ì¼ì–´ë‚˜ì§€ ì•Šê³  í•„ìš”í•œ ì½˜í…ì¸ ë§Œ ë¦¬ë¡œë”©
- ì´ë¯¸ ë°©ë¬¸í•œ í˜ì´ì§€ëŠ” ìºìŠì„ í•´ì„œ ë‹¤ì‹œ ë‹¤ìš´ë¡œë“œ ë°›ì§€ ì•ŠìŒ
- ë¯¸ë¦¬ í˜ì´ì§€ë¥¼ ë‹¤ìš´ë¡œë“œ ë°›ê³ , ì‹¤ì œ ìš”ì²­ì´ ìˆì„ ë•Œ í´ë¼ì´ì–¸íŠ¸ ì¸¡ì—ì„œ ì¦‰ì‹œ ì‘ë‹µí•¨(í´ë¦­ ì „)

<br/>

## ì •ì ì¸ ìì› ì‚¬ìš©í•˜ê¸°(public)
ì´ë¯¸ì§€, robots.txt, favicon.icoì™€ ê°™ì€ íŒŒì¼ì„ static assetë¼ê³  í•œë‹¤<br/>
Next.jsì—ì„œ ì •ì  ìì›ì„ ë¡œë”©í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ì


### ì´ë¯¸ì§€ ë¡œë”© í•´ë³´ê¸°
#### 1. public í´ë”ì— ì´ë¯¸ì§€ ì¶”ê°€
![static_img](public/img/static_img.png)

#### 2. ì´ë¯¸ì§€ ì‚¬ìš©
ìŠ¬ë˜ì‹œ(`/`)ëŠ” `public` í´ë” í•˜ìœ„ë¥¼ ì˜ë¯¸í•œë‹¤
```html
<img src="/hello.png" width="80" alt="" />
```

<br/>

## ì „ì—­ ìŠ¤íƒ€ì¼ ì§€ì •
ì „ì—­ì ì¸ ë””ìì¸ì„ ì ìš©í•˜ê³  ì‹¶ë‹¤ë©´ app/global.cssë¥¼ ìˆ˜ì •í•˜ë©´ ëœë‹¤

<br/>

## Json-serverë¡œ Backend êµ¬ì¶•í•˜ê¸°
Json-serverë¥¼ ì´ìš©í•´ì„œ ê°„ë‹¨í•˜ê²Œ ë°±ì—”ë“œë¥¼ êµ¬ì¶•í•´ë³´ì

    Nextjsì€ ë°±ì—”ë“œê¹Œì§€ ë™ì‹œì— ì œê³µí•˜ëŠ” full stack frameworkì´ë‹¤.
    Route Handlersë¥¼ ì‚¬ìš©í•˜ë©´ ë³„ë„ì˜ ë°±ì—”ë“œë¥¼ êµ¬ì¶•í•˜ì§€ ì•Šê³  Nextjs API ì„œë²„ê¹Œì§€ êµ¬ì¶•í•  ìˆ˜ ìˆë‹¤.

### 1. `json-server` ì‹¤í–‰
```bash
npx json-server --port 9999 --watch db.json
```

### 2. `db.json` íŒŒì¼ ìƒì„± í™•ì¸ ë° ìˆ˜ì •
```json
{
  "topics": [
    {
      "id": 1,
      "title": "html",
      "body": "html is .."
    },
    {
      "id": 2,
      "title": "css",
      "body": "css is .."
    }
  ],
  "posts": [
    {
      "id": 1,
      "title": "json-server",
      "author": "typicode"
    }
  ],
}
```

### 3. ì§€ì •í•œ í¬íŠ¸ë¡œ ì ‘ì†í•˜ì—¬ í™•ì¸
![json-server](./public/img/json-server.png)
  
### 4. í†µì‹ í•´ë³´ê¸°
```javascript
const resp = await fetch('http://localhost:9999/topics/');
const result = await resp.json();
console.log(result);
```
![fetch](./public/img/fetch.png)

<br/>

## ì„œë²„ ì»´í¬ë„ŒíŠ¸ vs í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸
[ğŸ”— ì„œë²„ ì»´í¬ë„ŒíŠ¸(Server Component)](/server_component.md)

<br/>

## í™˜ê²½ë³€ìˆ˜
ì½”ë“œì— ì§ì ‘ í¬í•¨í•  ìˆ˜ ì—†ëŠ” ì •ë³´ëŠ” í™˜ê²½ë³€ìˆ˜ë¥¼ í™œìš©í•˜ì—¬ ê´€ë¦¬í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.<br/>
ì˜ˆë¥¼ ë“¤ì–´, ì‹¤ì œ ì„œë²„ì™€ ê°œë°œ ì„œë²„ì˜ ì£¼ì†Œê°€ ë‹¤ë¥¸ ê²½ìš°, í™˜ê²½ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„œë²„ ì£¼ì†Œë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.

### 1. í™˜ê²½ë³€ìˆ˜ íŒŒì¼ ìƒì„±
ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì— `.env.local` íŒŒì¼ì„ ìƒì„±í•˜ê³ , í™˜ê²½ë³€ìˆ˜ë¥¼ ì¶”ê°€í•œë‹¤.<br/>
ì´ë•Œ, `NEXT_PUBLIC_` ì ‘ë‘ì‚¬ê°€ ì—†ìœ¼ë©´ server componentì—ì„œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆê³ , client componentì—ì„œëŠ” ì ‘ê·¼í•  ìˆ˜ ì—†ë‹¤. ì´ ì ‘ë‘ì‚¬ëŠ” DB_PASSWORDì™€ ê°™ì€ ë¹„ë°€ ì •ë³´ë¥¼ ë³´í˜¸í•˜ê¸° ìœ„í•œ ì•ˆì „ì¥ì¹˜ë¡œ ì‚¬ìš©ëœë‹¤.
```bash
# .env.local
NEXT_PUBLIC_API_URL=http://localhost:9999
```

### 2. ì½”ë“œ ë‚´ì˜ ì‚¬ìš©
í™˜ê²½ë³€ìˆ˜ëŠ” `process.env.ë³€ìˆ˜ëª…`ì„ ì‚¬ìš©í•˜ì—¬ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤
```jsx 
const resp = await fetch(`${process.env.NEXT_PUBLIC_API_URL}/topics/`);
```